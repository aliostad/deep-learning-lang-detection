import os


REDIS_URL = os.getenv('REDIS_URL', os.getenv('REDISTOGO_URL', 'redis://localhost:6379'))
BROKER_URL = os.getenv('BROKER_URL', REDIS_URL)
CELERY_RESULT_BACKEND = REDIS_URL

CELERYD_CONCURRENCY = 1
CELERY_ENABLE_UTC = True
CELERY_ACCEPT_CONTENT = ['json']
CELERY_TASK_SERIALIZER = 'json'
CELERY_RESULT_SERIALIZER = 'json'

CELERY_IMPORTS = ('worker', 'app.tasks', )

BROKER_CONNECTION_TIMEOUT = 4 # seconds
BROKER_CONNECTION_RETRY = True
BROKER_CONNECTION_MAX_RETRIES = 50

CELERY_ALWAYS_EAGER = False
CELERY_EAGER_PROPAGATES_EXCEPTIONS = False
