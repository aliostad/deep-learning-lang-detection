
/** Trigger para replicacion de clientes **/
drop TRIGGER if exists CLIENTES_TRG_BU

create table sx_clientes_credito_log as (select * from sx_clientes_credito where 1=2)

CREATE TRIGGER CLIENTES_TRG_BU 
    BEFORE UPDATE ON SX_CLIENTES
    FOR EACH ROW     
    BEGIN
            DECLARE CONTINUE HANDLER FOR SQLEXCEPTION
            SET  NEW.MODIFICADO=NOW();
            INSERT INTO `sx_clientes_log` (CLIENTE_ID,APELLIDOM,APELLIDOP,CLAVE,CUENTACONTABLE,CURP,CALLE,CIUDAD,COLONIA,CP
,ESTADO,LOCALE,DELMPO,NUMERO,NUMEROINT,PAIS,EMAIL3,EMAIL1,EMAIL2,FRECUENTE,NOMBRE,NOMBRES,PERMITIR_CHEQUE,FISICA,PNETO,RFC,SUSPENDIDO
,CREADO,CREADO_USERID,MODIFICADO,MODIFICADO_USERID,VERSION,WWW,CREDITO_ID,COBRADOR_ID,VENDEDOR_ID,TIPO_ID) 
        values( NEW.CLIENTE_ID
    ,NEW.APELLIDOM
    ,NEW.APELLIDOP
    ,NEW.CLAVE
    ,NEW.CUENTACONTABLE
    ,NEW.CURP
    ,NEW.CALLE
    ,NEW.CIUDAD
    ,NEW.COLONIA
    ,NEW.CP
    ,NEW.ESTADO
    ,NEW.LOCALE
    ,NEW.DELMPO
    ,NEW.NUMERO
    ,NEW.NUMEROINT
    ,NEW.PAIS
    ,NEW.EMAIL3
    ,NEW.EMAIL1
    ,NEW.EMAIL2
    ,NEW.FRECUENTE
    ,NEW.NOMBRE
    ,NEW.NOMBRES
    ,NEW.PERMITIR_CHEQUE
    ,NEW.FISICA
    ,NEW.PNETO
    ,NEW.RFC
    ,NEW.SUSPENDIDO
    ,NEW.CREADO
    ,NEW.CREADO_USERID
    ,NOW()
    ,NEW.MODIFICADO_USERID
    ,NEW.VERSION
    ,NEW.WWW
    ,NEW.CREDITO_ID
    ,NEW.COBRADOR_ID
    ,NEW.VENDEDOR_ID
    ,NEW.TIPO_ID
   );
     END;