USE moodle;

DROP TRIGGER IF EXISTS mdl_user__onDelete;
CREATE TRIGGER  mdl_user__onDelete
         AFTER  DELETE
            ON  moodle.mdl_user
  FOR EACH ROW  DELETE IGNORE FROM elis.mdl_user WHERE id=OLD.id;

DROP TRIGGER IF EXISTS mdl_user__onInsert;
CREATE TRIGGER  mdl_user__onInsert
         AFTER  INSERT
            ON  moodle.mdl_user
  FOR EACH ROW  INSERT INTO elis.mdl_user (`id`, `auth`, `confirmed`, `policyagreed`, `deleted`, `mnethostid`, `username`, `password`, `idnumber`, `firstname`, `lastname`, `email`, `emailstop`, `icq`, `skype`, `yahoo`, `aim`, `msn`, `phone1`, `phone2`, `institution`, `department`, `address`, `city`, `country`, `lang`, `theme`, `timezone`, `firstaccess`, `lastaccess`, `lastlogin`, `currentlogin`, `lastip`, `secret`, `picture`, `url`, `description`, `mailformat`, `maildigest`, `maildisplay`, `htmleditor`, `ajax`, `autosubscribe`, `trackforums`, `timemodified`, `trustbitmask`, `imagealt`, `screenreader`)
                     VALUES (NEW.`id`, NEW.`auth`, NEW.`confirmed`, NEW.`policyagreed`, NEW.`deleted`, NEW.`mnethostid`, NEW.`username`, NEW.`password`, NEW.`idnumber`, NEW.`firstname`, NEW.`lastname`, NEW.`email`, NEW.`emailstop`, NEW.`icq`, NEW.`skype`, NEW.`yahoo`, NEW.`aim`, NEW.`msn`, NEW.`phone1`, NEW.`phone2`, NEW.`institution`, NEW.`department`, NEW.`address`, NEW.`city`, NEW.`country`, NEW.`lang`, NEW.`theme`, NEW.`timezone`, NEW.`firstaccess`, NEW.`lastaccess`, NEW.`lastlogin`, NEW.`currentlogin`, NEW.`lastip`, NEW.`secret`, NEW.`picture`, NEW.`url`, NEW.`description`, NEW.`mailformat`, NEW.`maildigest`, NEW.`maildisplay`, NEW.`htmleditor`, NEW.`ajax`, NEW.`autosubscribe`, NEW.`trackforums`, NEW.`timemodified`, NEW.`trustbitmask`, NEW.`imagealt`, NEW.`screenreader`);

DROP TRIGGER IF EXISTS mdl_user__onUpdate;
CREATE TRIGGER  mdl_user__onUpdate
         AFTER  UPDATE
            ON  moodle.mdl_user
  FOR EACH ROW  REPLACE INTO elis.mdl_user (`id`, `auth`, `confirmed`, `policyagreed`, `deleted`, `mnethostid`, `username`, `password`, `idnumber`, `firstname`, `lastname`, `email`, `emailstop`, `icq`, `skype`, `yahoo`, `aim`, `msn`, `phone1`, `phone2`, `institution`, `department`, `address`, `city`, `country`, `lang`, `theme`, `timezone`, `firstaccess`, `lastaccess`, `lastlogin`, `currentlogin`, `lastip`, `secret`, `picture`, `url`, `description`, `mailformat`, `maildigest`, `maildisplay`, `htmleditor`, `ajax`, `autosubscribe`, `trackforums`, `timemodified`, `trustbitmask`, `imagealt`, `screenreader`)
                      VALUES (NEW.`id`, NEW.`auth`, NEW.`confirmed`, NEW.`policyagreed`, NEW.`deleted`, NEW.`mnethostid`, NEW.`username`, NEW.`password`, NEW.`idnumber`, NEW.`firstname`, NEW.`lastname`, NEW.`email`, NEW.`emailstop`, NEW.`icq`, NEW.`skype`, NEW.`yahoo`, NEW.`aim`, NEW.`msn`, NEW.`phone1`, NEW.`phone2`, NEW.`institution`, NEW.`department`, NEW.`address`, NEW.`city`, NEW.`country`, NEW.`lang`, NEW.`theme`, NEW.`timezone`, NEW.`firstaccess`, NEW.`lastaccess`, NEW.`lastlogin`, NEW.`currentlogin`, NEW.`lastip`, NEW.`secret`, NEW.`picture`, NEW.`url`, NEW.`description`, NEW.`mailformat`, NEW.`maildigest`, NEW.`maildisplay`, NEW.`htmleditor`, NEW.`ajax`, NEW.`autosubscribe`, NEW.`trackforums`, NEW.`timemodified`, NEW.`trustbitmask`, NEW.`imagealt`, NEW.`screenreader`);

-- TRUNCATE moodle.mdl_user;
-- TRUNCATE elis.mdl_user;
-- INSERT INTO `mdl_user` (`id`, `auth`, `confirmed`, `policyagreed`, `deleted`, `mnethostid`, `username`, `password`, `idnumber`, `firstname`, `lastname`, `email`, `emailstop`, `icq`, `skype`, `yahoo`, `aim`, `msn`, `phone1`, `phone2`, `institution`, `department`, `address`, `city`, `country`, `lang`, `theme`, `timezone`, `firstaccess`, `lastaccess`, `lastlogin`, `currentlogin`, `lastip`, `secret`, `picture`, `url`, `description`, `mailformat`, `maildigest`, `maildisplay`, `htmleditor`, `ajax`, `autosubscribe`, `trackforums`, `timemodified`, `trustbitmask`, `imagealt`, `screenreader`) VALUES (7, 'manual', 1, 0, 1, 4, 'justinvincent7@yahoo.com.1268142624', '7ea61fd824dc83d2be1fb56c9338321a', '', 'Precyse', 'Demo', '0a0ae3255410271a474433c54faa1057', 0, '', '', '', '', '', '', '', '', '', '', 'Remote', 'US', 'en_us_utf8', '', '99', 1262696503, 1266613655, 1266611861, 1266612213, '99.60.39.50', '', 0, '', '', 1, 0, 0, 1, 1, 1, 1, 1268142624, 0, '', 0),(8, 'manual', 1, 0, 0, 4, 'tormondroyd@precyse.com', '8611f0aba6b94250e269dca651efa98d', 'tormondroyd@precyse.com', 'Tom', 'Ormondroyd', 'tormondroyd@precyse.com', 0, '', '', '', '', '', '', '', '', '', '', 'Westboro', 'US', 'en_us_utf8', '', '99', 1264109169, 1347982662, 1347883650, 1347982571, '10.196.86.4', '', 1, '', '', 1, 0, 1, 1, 1, 1, 0, 1310650385, 0, '', 0),(9, 'manual', 1, 0, 1, 4, 'bustinjender@hotmail.com.1268054400', 'fbf859b906602d0ac805ba691f618569', '', 'J', 'B', '53dd9c6005f3cdfc5a69c5c07388016d', 0, '', '', '', '', '', '', '', '', '', '', 'Phialdelphia', 'US', 'en_us_utf8', '', '99', 0, 0, 0, 0, '', '', 0, '', '', 1, 0, 2, 1, 1, 1, 0, 1268054400, 0, '', 0),(10, 'manual', 1, 0, 0, 4, 'kheisler@precyse.com', '007ffe403954c5d0158b5a4ffa52152c', 'kheisler@precyse.com', 'Karen', 'Heisler', 'kheisler@precyse.com', 0, '', '', '', '', '', '', '', '', '', '', 'Wayne', 'US', 'en_us_utf8', '', '99', 1265902648, 1296768419, 1293042591, 1296768080, '65.242.2.220', '', 0, '', '', 1, 0, 2, 1, 1, 1, 0, 1317414817, 0, '', 0),(11, 'manual', 1, 0, 1, 4, 'mcooch@yahoo.com.1267662397', '98fde1a3d3c2e303dd9b695e5db98352', '', 'Mary', 'Cooch', '1bafe62c5aacfd4676b78eed956bc700', 0, '', '', '', '', '', '', '', '', '', '', 'Moodlevile', 'GB', 'en_us_utf8', '', '99', 1265903250, 1265906274, 0, 1265904958, '86.136.112.107', '', 0, '', '', 1, 0, 0, 1, 1, 1, 0, 1267662397, 0, '', 0);


