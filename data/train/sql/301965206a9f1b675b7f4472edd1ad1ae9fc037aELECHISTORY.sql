ALTER TABLE ELECHISTORY
DROP PRIMARY KEY CASCADE;

DROP TABLE ELECHISTORY CASCADE CONSTRAINTS;

CREATE TABLE ELECHISTORY
(
AUDITYEAR VARCHAR2(4 BYTE),
REPORTID NUMBER(12),
TRANSTYPE VARCHAR2(2 BYTE),
TRANSDATE DATE,
DBKEY NUMBER(6),
VERSION NUMBER(2) DEFAULT 1,
MATCHEDTO VARCHAR2(10 BYTE)
)
TABLESPACE TS_SAP
RESULT_CACHE (MODE DEFAULT)
PCTUSED 0
PCTFREE 5
INITRANS 1
MAXTRANS 255
STORAGE (
INITIAL 3080K
NEXT 3M
MINEXTENTS 1
MAXEXTENTS UNLIMITED
PCTINCREASE 0
BUFFER_POOL DEFAULT
FLASH_CACHE DEFAULT
CELL_FLASH_CACHE DEFAULT
)
LOGGING
NOCOMPRESS
NOCACHE
NOPARALLEL
MONITORING;

CREATE UNIQUE INDEX ELECHISTORY_PK ON ELECHISTORY
(AUDITYEAR, REPORTID, TRANSTYPE, TRANSDATE)
LOGGING
TABLESPACE TS_SAP
PCTFREE 10
INITRANS 2
MAXTRANS 255
STORAGE (
INITIAL 1040K
NEXT 1M
MINEXTENTS 1
MAXEXTENTS UNLIMITED
PCTINCREASE 0
BUFFER_POOL DEFAULT
FLASH_CACHE DEFAULT
CELL_FLASH_CACHE DEFAULT
)
NOPARALLEL;

CREATE INDEX ELECHISTORY_REPORTID_INDX ON ELECHISTORY
(REPORTID)
LOGGING
TABLESPACE TS_SAP
PCTFREE 10
INITRANS 2
MAXTRANS 255
STORAGE (
INITIAL 1M
NEXT 1M
MINEXTENTS 1
MAXEXTENTS UNLIMITED
PCTINCREASE 0
BUFFER_POOL DEFAULT
FLASH_CACHE DEFAULT
CELL_FLASH_CACHE DEFAULT
)
NOPARALLEL;

CREATE INDEX ELEHISTORY_DBKEY_IDX ON ELECHISTORY
(DBKEY)
LOGGING
TABLESPACE TS_SAP
PCTFREE 10
INITRANS 2
MAXTRANS 255
STORAGE (
INITIAL 512K
NEXT 512K
MINEXTENTS 1
MAXEXTENTS UNLIMITED
PCTINCREASE 0
BUFFER_POOL DEFAULT
FLASH_CACHE DEFAULT
CELL_FLASH_CACHE DEFAULT
)
NOPARALLEL;

ALTER TABLE ELECHISTORY ADD (
CONSTRAINT ELECHISTORY_PK
PRIMARY KEY
(AUDITYEAR, REPORTID, TRANSTYPE, TRANSDATE)
USING INDEX ELECHISTORY_PK
ENABLE VALIDATE);

